PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE migrations (id VARCHAR(255) PRIMARY KEY);
INSERT INTO migrations VALUES('SCHEMA_INIT');
CREATE TABLE IF NOT EXISTS "uploads" ("id" varchar(255),"ttl" integer,"download_domain" varchar(255),"remote_ip" varchar(255),"comments" varchar(255),"upload_token" varchar(255),"user" varchar(255),"token" varchar(255),"is_admin" bool,"stream" bool,"one_shot" bool,"removable" bool,"protected_by_password" bool,"login" varchar(255),"password" varchar(255),"created_at" datetime,"deleted_at" datetime,"expire_at" datetime , PRIMARY KEY ("id"));
INSERT INTO uploads VALUES('UPLOAD1XXXXXXXXX',3600,'https://download.domain','1.3.3.7','愛 الحب 사랑 αγάπη любовь प्यार Սեր माया','UPLOADTOKENXXXXXXXXXXXXXXXXXXXXX','','',1,0,1,1,0,'foo','bar','2000-01-01 00:00:00+00:00',NULL,'2000-01-01 01:00:00+00:00');
INSERT INTO uploads VALUES('UPLOAD2XXXXXXXXX',0,'','','','UPLOADTOKENXXXXXXXXXXXXXXXXXXXXX','google:googleuser','',0,0,0,0,0,'','','2022-01-29 14:50:11.631364237+01:00',NULL,NULL);
INSERT INTO uploads VALUES('UPLOAD3XXXXXXXXX',0,'','','','UPLOADTOKENXXXXXXXXXXXXXXXXXXXXX','google:googleuser','8cbaeacd-6a3e-4636-4200-607a6e240688',0,0,0,0,0,'','','2022-01-29 14:50:11.631632285+01:00',NULL,NULL);
INSERT INTO uploads VALUES('UPLOAD4XXXXXXXXX',0,'','','','UPLOADTOKENXXXXXXXXXXXXXXXXXXXXX','','',0,0,0,0,0,'','','2022-01-29 14:50:11.631843207+01:00',NULL,NULL);
CREATE TABLE IF NOT EXISTS "files" ("id" varchar(255),"upload_id" varchar(255) REFERENCES uploads(id) ON UPDATE RESTRICT ON DELETE RESTRICT,"name" varchar(255),"status" varchar(255),"md5" varchar(255),"type" varchar(255),"size" bigint,"reference" varchar(255),"backend_details" varchar(255),"created_at" datetime , PRIMARY KEY ("id"));
INSERT INTO files VALUES('FILE1XXXXXXXXXXX','UPLOAD1XXXXXXXXX','愛愛愛','','ccea80b85af4f156af9d4d3b94e91a5e','application/awesome',42,'','{foo:"bar"}','2022-01-29 14:50:11.631155027+01:00');
INSERT INTO files VALUES('FILE2XXXXXXXXXXX','UPLOAD2XXXXXXXXX','filename','','','',0,'','','2022-01-29 14:50:11.631532169+01:00');
INSERT INTO files VALUES('FILE3XXXXXXXXXXX','UPLOAD3XXXXXXXXX','filename','','','',0,'','','2022-01-29 14:50:11.631744087+01:00');
CREATE TABLE IF NOT EXISTS "users" ("id" varchar(255),"provider" varchar(255),"login" varchar(255),"password" varchar(255),"name" varchar(255),"email" varchar(255),"is_admin" bool,"created_at" datetime , PRIMARY KEY ("id"));
INSERT INTO users VALUES('local:admin','local','admin','$2a$14$s103BdAMxYV96BunH9hefOEpXnmMzHBmif6tcsQHZkioFeoeHiuRu','Plik Admin','admin@root.gg',1,'2022-01-29 14:50:11.630730793+01:00');
INSERT INTO users VALUES('google:googleuser','google','','','Plik User','user@root.gg',0,'2022-01-29 14:50:11.63089738+01:00');
CREATE TABLE IF NOT EXISTS "tokens" ("token" varchar(255),"comment" varchar(255),"user_id" varchar(255) REFERENCES users(id) ON UPDATE RESTRICT ON DELETE CASCADE,"created_at" datetime , PRIMARY KEY ("token"));
INSERT INTO tokens VALUES('e78415ed-883e-4d0b-5d0e-fe2d03757520','admin token','local:admin','2022-01-29 14:50:11.63085194+01:00');
INSERT INTO tokens VALUES('8cbaeacd-6a3e-4636-4200-607a6e240688','user token','google:googleuser','2022-01-29 14:50:11.63094559+01:00');
CREATE TABLE IF NOT EXISTS "settings" ("key" varchar(255),"value" varchar(255) , PRIMARY KEY ("key"));
INSERT INTO settings VALUES('key1','val1');
CREATE INDEX idx_upload_user ON "uploads"("user") ;
CREATE INDEX idx_upload_user_token ON "uploads"("token") ;
CREATE INDEX idx_upload_deleted_at ON "uploads"(deleted_at) ;
CREATE INDEX idx_upload_expire_at ON "uploads"(expire_at) ;
COMMIT;
